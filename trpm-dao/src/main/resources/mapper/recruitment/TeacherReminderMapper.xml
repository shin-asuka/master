<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="TeacherReminderMapper">

    <sql id="teacherReminderColumns">teacher_reminder.id AS id, teacher_reminder.online_class_id AS online_class_id, teacher_reminder.send_scheduled_time AS send_scheduled_time, teacher_reminder.params AS params, teacher_reminder.mail_template_title AS mail_template_title, teacher_reminder.mail_template_content AS mail_template_content</sql>

    <sql id="teacherReminderWhere">
        <trim prefix="WHERE" prefixOverrides="AND">
            <if test="id != null">AND teacher_reminder.id = #{id}</if>
            <if test="onlineClassId != null">AND teacher_reminder.online_class_id = #{onlineClassId}</if>
            <if test="sendScheduledTime != null">AND teacher_reminder.send_scheduled_time = #{sendScheduledTime}</if>
            <if test="params != null">AND teacher_reminder.params = #{params}</if>
            <if test="mailTemplateTitle != null">AND teacher_reminder.mail_template_title = #{mailTemplateTitle}</if>
            <if test="mailTemplateContent != null">AND teacher_reminder.mail_template_content = #{mailTemplateContent}
            </if>
        </trim>
    </sql>

    <sql id="teacherReminderOrder">
        <if test="orderString != null">ORDER BY ${orderString}</if>
    </sql>

    <sql id="teacherReminderLimit">LIMIT #{startLine}, #{limitLine}</sql>

    <resultMap type="com.vipkid.recruitment.entity.TeacherReminder" id="teacherReminderResultMap">
        <id column="id" property="id"/>
        <result column="online_class_id" property="onlineClassId"/>
        <result column="send_scheduled_time" property="sendScheduledTime"/>
        <result column="params" property="params"/>
        <result column="mail_template_title" property="mailTemplateTitle"/>
        <result column="mail_template_content" property="mailTemplateContent"/>
    </resultMap>

    <select id="findDao" resultMap="teacherReminderResultMap">
        SELECT
        <include refid="teacherReminderColumns"/>
        FROM teacher_reminder
        <include refid="teacherReminderWhere"/>
    </select>

    <select id="countDao" resultType="int">
        SELECT COUNT(*) FROM teacher_reminder
        <include refid="teacherReminderWhere"/>
    </select>

    <select id="pageDao" resultMap="teacherReminderResultMap">
        SELECT
        <include refid="teacherReminderColumns"/>
        FROM teacher_reminder
        <include refid="teacherReminderWhere"/>
        <include refid="teacherReminderOrder"/>
        <include refid="teacherReminderLimit"/>
    </select>

    <select id="limitDao" resultMap="teacherReminderResultMap">
        SELECT
        <include refid="teacherReminderColumns"/>
        FROM teacher_reminder
        <include refid="teacherReminderWhere"/>
        <include refid="teacherReminderOrder"/>
        <include refid="teacherReminderLimit"/>
    </select>

    <insert id="saveDao" useGeneratedKeys="true" keyProperty="id">
        INSERT INTO teacher_reminder
        <trim prefix="(" prefixOverrides=",">
            <if test="id != null">,id</if>
            <if test="onlineClassId != null">,online_class_id</if>
            <if test="sendScheduledTime != null">,send_scheduled_time</if>
            <if test="params != null">,params</if>
            <if test="mailTemplateTitle != null">,mail_template_title</if>
            <if test="mailTemplateContent != null">,mail_template_content</if>
        </trim>
        ) VALUES
        <trim prefix="(" prefixOverrides=",">
            <if test="id != null">,#{id}</if>
            <if test="onlineClassId != null">,#{onlineClassId}</if>
            <if test="sendScheduledTime != null">,#{sendScheduledTime}</if>
            <if test="params != null">,#{params}</if>
            <if test="mailTemplateTitle != null">,#{mailTemplateTitle}</if>
            <if test="mailTemplateContent != null">,#{mailTemplateContent}</if>
        </trim>
        )
    </insert>

    <update id="updateDao">
        UPDATE teacher_reminder
        <trim prefix="SET" prefixOverrides=",">
            <if test="onlineClassId != null">,online_class_id = #{onlineClassId}</if>
            <if test="sendScheduledTime != null">,send_scheduled_time = #{sendScheduledTime}</if>
            <if test="params != null">,params = #{params}</if>
            <if test="mailTemplateTitle != null">,mail_template_title = #{mailTemplateTitle}</if>
            <if test="mailTemplateContent != null">,mail_template_content = #{mailTemplateContent}</if>
        </trim>
        <trim prefix="WHERE" prefixOverrides="AND">AND id = #{id}</trim>
    </update>

    <delete id="deleteDao">
        DELETE FROM teacher_reminder
        <trim prefix="WHERE" prefixOverrides="AND">AND id = #{id}</trim>
    </delete>

</mapper>
