(function(a){a.fn.sort=function(d){var f=a.extend({endRow:0,isThHeader:true},d);function b(i){var j=f.isThHeader?"th":"td";var h=a(i).find("tr "+j+"[sort='true']");if(f.endRow==0){f.endRow=a(i).find("tr").size()}else{if(f.endRow<0){f.endRow=a(i).find("tr").size()+f.endRow}else{f.endRow=a(i).find("tr").size()-f.endRow}}h.unbind("click");h.bind("click",function(){f.startRow=a(this).parent().index();f.index=a(this).index();if(a(this).hasClass("sort-desc")){e(this);c(i,"desc")}else{e(this);c(i,"asc")}});g(h)}function c(k,i){var j=new Array();var h=a(k).find("tr:lt("+f.endRow+"):gt("+f.startRow+")");h.each(function(l){j[l]=new Array();a(this).find("td").each(function(m){j[l][m]=a(this).html()})});j.sort(function(l,m){if(i=="asc"){return l[f.index].localeCompare(m[f.index])}else{return m[f.index].localeCompare(l[f.index])}});h.each(function(l){a(this).find("td").each(function(m){a(this).html(j[l][m])})})}function g(h){h.removeClass("sort-desc sort-asc").addClass("sort-desc")}function e(h){if(a(h).hasClass("sort-desc")){a(h).removeClass("sort-desc").addClass("sort-asc")}else{a(h).removeClass("sort-asc").addClass("sort-desc")}}b(this)}})(jQuery);