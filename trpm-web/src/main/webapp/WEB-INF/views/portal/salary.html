 #set($layout = "/portal/layout.vm") #set($activePayrollInfo = "active")
<div class="tab-pane active ng-scope" id="comments" style="border: 0px;" layout:fragment="content">
	<div class="row form-group form-inline" style="margin-top: 15px; margin-right: 0px;">
		<button class="btn btn-primary btn-sm next" style="float: right; -margin-right: 30px; width: 180px;">NEXT MONTH</button>
		<button class="btn btn-primary btn-sm curr" style="float: right; margin-right: 30px; width: 180px;">CURRENT MONTH</button>
		<button class="btn btn-primary btn-sm prev" style="float: right; margin-right: 30px; width: 180px;">PREV MONTH</button>
	</div>
	<div id="yearMonthTitle" align="center" style="background-color: #AEA79F; border: 1px solid #DDDDDD; border-bottom: 0px;" class="ng-binding">$!{monthOfYear}</div>
	<div id="comments-content">
		<div class="container-fluid salary-details-warpper">
			<div class="row">
				<div class="col-xs-8">
					<h3></h3>
				</div>
				<div class="col-xs-4">
					<h3 class="text-right "></h3>
				</div>
			</div>
			<br>
			<div class="row bottom-border total-title-warpper">
				<div class="col-xs-6 text-left">
					<h4>Total Salary:</h4>
				</div>
				<div class="col-xs-6 text-right">
					<h4>$!{payroll.totalSalary}</h4>
				</div>
			</div>

			<div class="row total-courses-warpper">
				<div class="col-xs-6 dropdown text-left">
					<p class="dropdown-toggle" data-toggle="collapse" href="#courses">
						Course<b class="caret"></b>
					</p>
				</div>
				<div class="col-xs-6 text-right">$ $!{courses.totalSalary}</div>
			</div>
			<div class="row panel-collapse collapse f9f9f9" id="courses"></div>
			<br> <br>
			<div class="row total-other-warpper">
				<div class="col-xs-6 dropdown text-left">
					<p class="dropdown-toggle" data-toggle="collapse" href="#other-bonus">
						Other Bonus<b class="caret"></b>
					</p>
				</div>
				<div class="col-xs-6 text-right">$ $!{other.totalSalary}</div>
			</div>
			<div class="row panel-collapse collapse f9f9f9" id="other-bonus"></div>
			<br>
			<div class="row total-adjustment-warpper">
				<div class="col-xs-6 dropdown text-left">
					<p class="dropdown-toggle" data-toggle="collapse" href="#adjustments">Adjustments</p>
				</div>
				<div class="col-xs-6 text-right">$ $!{adjustments.totalSalary}</div>
			</div>
			<div class="row panel-collapse collapse f9f9f9" id="adjustments"></div>
			<br>
			<div class="coureses-warpper">
				<div class="row bottom-border top-border">
					<div class="col-xs-8">
						<h5 class="text-left">Courses</h5>
					</div>
					<div class="col-xs-4">
						<h5 class="text-right">$ $!{courses.totalSalary}</h5>
					</div>
				</div>
				<br>
				<table class="table table-bordered table-striped">
					<thead>
						<tr class="info">
							<td class="text-center">Scheduled Time</td>
							<td class="text-center">Lesson SN</td>
							<td class="text-center">Lesson Type</td>
							<td class="text-center">Finish Type</td>
							<td class="text-center">Short Notice</td>
							<td class="text-center">Amount($)</td>
						</tr>
					</thead>
					<tbody id="coursesList" ms-controller="course-list-controller">
						<tr class="ng-scope" ms-repeat="dataList">
							<td>
								<div class="lessonInfoContent ng-binding">{{el.scheduledTime}}</div>
							</td>
							<td>
								<div class="lessonInfoContent ng-binding">{{el.lessonSn}}</div>
							</td>
							<td>
								<div class="lessonInfoContent ng-binding">{{el.lessonType}}</div>
							</td>
							<td>
								<div class="lessonInfoContent ng-binding">{{el.finishType}}</div>
							</td>
							<td>
								<div class="lessonInfoContent ng-binding">{{el.shortNotice}}</div>
							</td>
							<td>
								<div class="lessonInfoContent ng-binding">{{el.totalSalary}}</div>
							</td>
						</tr>
					</tbody>
				</table>

				<div>
					<nav style="float: right; margin-right: 30px;">
						<ul class="pagination">
						</ul>
					</nav>
				</div>

				<div class="row">
					<div class="col-xs-4"></div>
					<div class="col-xs-8">
						<div class="mr-top-20">
							<span class="">Total records: <strong class="ng-binding">NaN</strong></span>
						</div>
					</div>
				</div>
			</div>
			<br>
			<div class="attendance-warpper">
				<div class="row bottom-border top-border">
					<div class="col-xs-6">
						<h5 class="text-left">Attendance Bonus</h5>
					</div>
					<div class="col-xs-6">
						<h5 class="text-right">$ $!{attendance.totalSalary}</h5>
					</div>
				</div>
				<br>
				<table class="table table-bordered table-striped">
					<thead>
						<tr class="active">
							<td class="text-center">Attendance</td>
							<td class="text-center"></td>
						</tr>
					</thead>
					<tbody>
						<tr class="info">
							<td class="text-center">Unit Price ($)</td>
							<td class="text-center">Quantity</td>
						</tr>
						<tr class="info">
							<td class="text-center">$ $!{attendance.attendanceList[0].unitPrice}</td>
							<td class="text-center">$!{attendance.attendanceList[0].quantity}</td>
						</tr>

					</tbody>
				</table>
				<br>
				<table class="table table-bordered table-striped">
					<thead>
						<tr class="active">
							<td colspan="5">
								<div class="col-xs-6">
									<h5 class="text-left">Course Deductions</h5>
								</div>
								<div class="col-xs-6">
									<h5 class="text-right">$ NaN</h5>
								</div>
							</td>
						</tr>
						<tr class="info">
							<td class="text-center">Scheduled Time</td>
							<td class="text-center">Lesson SN</td>
							<td class="text-center">Lesson Type</td>
							<td class="text-center">Finish Type</td>
							<td class="text-center">Amount ($)</td>
						</tr>
					</thead>
					<tbody id="coursesList" ms-controller="course-list-controller">
						<tr class="ng-scope" ms-repeat="deDataList">
							<td>
								<div class="lessonInfoContent ng-binding">{{el.scheduledTime}}</div>
							</td>
							<td>
								<div class="lessonInfoContent ng-binding">{{el.lessonSn}}</div>
							</td>
							<td>
								<div class="lessonInfoContent ng-binding">{{el.lessonType}}</div>
							</td>
							<td>
								<div class="lessonInfoContent ng-binding">{{el.finishType}}</div>
							</td>
							<td>
								<div class="lessonInfoContent ng-binding">{{el.totalSalary}}</div>
							</td>
						</tr>
					</tbody>
				</table>

				<div class="row">
					<div class="col-xs-4"></div>
					<div class="col-xs-8">
						<div class="mr-top-20">
							<span class="">Total records: <strong class="ng-binding">NaN</strong></span>
						</div>
					</div>
				</div>
			</div>
			<br>
			<div class="attendance-warpper">
				<div class="row bottom-border top-border">
					<div class="col-xs-6">
						<h5 class="text-left">Other Bonus</h5>
					</div>
					<div class="col-xs-6">
						<h5 class="text-right">$!{other.totalSalary}</h5>
					</div>
				</div>
				<br>
				<table class="table table-bordered">
					<thead>
						<tr class="active">
							<td colspan="4">
								<div class="col-xs-6">
									<h5 class="text-left">New VIPKID Enrollment</h5>
								</div>
								<div class="col-xs-6">
									<h5 class="text-right">$ NaN</h5>
								</div>
							</td>
						</tr>
						<tr class="info">
							<td class="text-center">Enrollment Time</td>
							<td class="text-center">Class Time</td>
							<td class="text-center">Student Name</td>
							<td class="text-center">Price ($)</td>
						</tr>
						#foreach($vipSet in $otherNewVipkid.list)
						<tr class="info">
							<td class="text-center">$vipSet.registerDate</td>
							<td class="text-center">$vipSet.scheduledTime</td>
							<td class="text-center">$vipSet.studentName</td>
							<td class="text-center">$vipSet.totalSalary</td>
						</tr>
						#end
					</thead>
					<tbody>

					</tbody>
				</table>


				<br> <br>
				<table class="table table-bordered">
					<thead>
						<tr class="active">
							<td colspan="2">
								<div class="col-xs-6">
									<h5 class="text-left">Finished Classes</h5>
								</div>
								<div class="col-xs-6">
									<h5 class="text-right">$!{otherFinishedClasses.totalSalary}</h5>
								</div>
							</td>
						</tr>
						<tr class="info">
							<td class="text-center">Unit Price ($)</td>
							<td class="text-center">Quantity</td>
						</tr>
						<tr class="info">
							<td class="text-center">$!{otherFinishedClasses.unitPrice}</td>
							<td class="text-center">$!{otherFinishedClasses.quantity}</td>
						</tr>
					</thead>
					<tbody>

					</tbody>
				</table>
				<br>
				<table class="table table-bordered">
					<thead>
						<tr class="active">
							<td colspan="4">
								<div class="col-xs-6">
									<h5 class="text-left">Teacher Referral Fee</h5>
								</div>
								<div class="col-xs-6">
									<h5 class="text-right">$ $!{otherTeacherReferralFee.totalSalary}</h5>
								</div>
							</td>
						</tr>
						<tr class="info">
							<td class="text-center">Signing Date</td>
							<td class="text-center">Registration Date</td>
							<td class="text-center">Teacher Name</td>
							<td class="text-center">Price ($)</td>
						</tr>
						<tr class="info">
							#foreach($referal in $otherTeacherReferralFee.list)
							<td class="text-center">$referal.signingTime</td>
							<td class="text-center">$referal.registerDate</td>
							<td class="text-center">$referal.teacherName</td>
							<td class="text-center">$referal.totalSalary</td> #end
						</tr>
					</thead>
					<tbody>

					</tbody>
				</table>
			</div>
			<br>
			<div class="attendance-warpper">
				<div class="row bottom-border top-border">
					<div class="col-xs-6">
						<h5 class="text-left">Adjustments</h5>
					</div>
					<div class="col-xs-6">
						<h5 class="text-right">$$!{adjustments.totalSalary}</h5>
					</div>
				</div>
				<table class="table table-bordered">
				</table>
				<table class="table table-bordered table-striped">
					<thead>
						<tr class="info">
							<th class="text-center">Item</th>
							<th class="text-center">Description</th>
							<th class="text-center">Unit Price ($)</th>
							<th class="text-center">Operation Time</th>
							<th class="text-center">Operator</th>
						</tr>
					</thead>
					<tbody>
						<tr class="info">
							#foreach($adjust in $adjustments.list)
							<td class="text-center">$adjust.item</td>
							<td class="text-center">$adjust.description</td>
							<td class="text-center">$adjust.unitPrice</td>
							<td class="text-center">$adjust.updateTime</td>
							<td class="text-center">$adjust.operator</td> #end
						</tr>
					</tbody>
				</table>
			</div>
			<br>
		</div>
	</div>

</div>
#@requireJs()
    require(["payroll"], function(payroll){
        payroll.init("$!{TRPM_TEACHER.timezone}", $!{offsetOfMonth});
        
        Portal.paging(".pagination",  100,${linePerPage}, function(page){
            payroll.salaryList(page);
       });
    });
#end